# 5.1 Введение в виртуализацию

## 1
- Аппаратная виртуализация - когда гипервизор ставится непосредственно на железо и полностью эмулирует для гостевых ОС обычное железо.
- Паравиртуализация - когда гипервизор ставится поверх ОС, эмуляция железа частичная, гостевые ОС должны быть специально модифицированы для поддержки работы в режиме паравиртуализации
- Виртуализация на уровне ОС - когда гипервизор фактически отсутствует, изоляция гостевых ВМ происходит с помощью механизмов ядра ОС.

## 2
Физические серверы - для высоконагруженных БД, т.к. отсутствуют расходы произвоительности на виртуализацию, производительность ввода-вывода максимальная; так же на физических серверах можно запускать расчеты на GPU, т.к. далеко не все GPU могут быть в принципе виртуализированы и "проброшены" в ВМ.
<br>
Паравиртуализация - для web-приложений, т.к. позволяет обеспечить достатотчную производительность, использовать подход IaC для развертывания и масштабирования.
<br>
Виртуализация на уровне ОС - для бухгалтерских ПК можно выбрать какой-либо вариант VDI, например под RDS. Формально это, наверное, не относится к виртуализации на уровне ОС, а, скорее, к терминальным решениям. Если web-приложения контейнеризированы, то можно их так же запускать в этих самых контейнерах, которые относятся к виртуализации на уровне ОС.

## 3
- 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
<br>
Т.к. Windows-based инфра, можно использовать Hyper-V с VMM, что сэкономит деньги, и обеспечит поддержку Linux там, где это необходимо.

- Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
<br>
Если нужен именно опенсорс, то можно рассмотреть Proxmox. Паравиртуализация KVM, используемая в нём, обеспечит высокую производительность. Либо, если больших требований к отказоустойчивости нет, можно на голом KVM или бесплатном ESXi это запустить на двух-трёх физических серверах, а от выхода сервера из строя защититься бэкапом. 

- Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
<br>
Hyper-V (потому что входит в серверную лицензию Windows, т.е. относительно бесплатно)

- Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.
<br>
Голый KVM. Т.к. тестирование не предъявляет требований к доступности, и жизненный цикл тестовой среды может быть коротким (развернули-прогнали тесты-прибили), то можно просто создавать ВМ под KVM. Требование тестироваться на нескольких различных дистрибутивах не даёт возможности использовать контейнеры.

## 4
Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.
<br>
Использование нескольких различных сред виртуализации - это, конечно, неудобно, т.к. затруднён перенос нагрузок между разными средами, требуется компетенция по нескольким продуктам. На мой взгляд, использовать несколько сред можно только под совершенно различные, несвязанные между собой задачи, например, VDI на XenServer, а серверная виртуализация на VMWare. Второй вариант, когда гетерогенная среда приемлема - если широко применяется подход IaC и immutable infrastructure, т.е. развертывание систем происходит автоматически с минимальным изменением, или вообще без изменения сценариев развертывания. В классическом варианте "ручного" администрирования несколько различных сред виртуализации - это боль.
