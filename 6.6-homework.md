# 6.6 Troubleshooting
## 1

Получаем перечень операций, которые выполняются долльше 180 секунд
<pre>
use admin
db.aggregate([ { $currentOp: { allUsers: true, localOps: true } }, { $match: { secs_running: { $gte: 180 } } }])
</pre>
Получаем opid нужной операции, и завершаем её:
<pre>
db.killOp("OPID")
</pre>
Чтобы ограничить время выполнения операций, можно использовать метод maxTimeMS() при запуске операций, которые могут выполняться слишком долго.

## 2
Можно предположить, что число истекших ключей слишком велико. В случае если активный алгоритм истечения ключей обнаруживает, что из выборки 25% или более ключей истекли, он продолжает экспайрить ключи пока их доля не упадёт ниже 25%. Т.к. Redis однопоточный, это может замедлить или блокировать другие операции. В описанной ситуации можно попробовать увеличить число ключей, которые экспайрятся за один проход алгоритма:<br>
CONFIG SET ACTIVE_EXPIRE_CYCLE_LOOKUPS_PER_LOOP 30

## 3
